# Предсказание зарплаты по резюме
### Цель проекта
Создание модели машинного обучения для предсказания заработной платы на основе информации, содержащейся в резюме
### Бизнес-кейсы
 1. Повышение эффективности подбора персонала:
    * _Проблема_: трудности в выделении наилучших кандидатов из большого числа резюме.
    * _Решение_: модель помогает рекрутерам быстрее выявлять кандидатов с соответствующим опытом и навыками, сокращая время, затрачиваемое на первичный отбор.
 2. Оптимизация затрат на HR-процессы:
    * _Проблема_: значительные трудозатраты при ручной обработке резюме и оценке кандидатов.
    * _Решение_: модель автоматизирует процесс отбора, снижая нагрузку на HR-специалистов и уменьшая затраты времени и ресурсов.
### Датасет
663 547 записей с резюме, из которых уникальных 77 674.
### Описание файлов репозитория
- parser - парсер резюме по регионам и профессиям
- baseline - ноутбук с бейзлайном
- experiments - ноутбук с экспериментами
- predict - создание пайплайна предсказания
- tg_bot - телеграмм бот для предсказания зарплаты по резюме
### Метрики <br />
В качестве основной метрики используется MAPE - cредняя абсолютная ошибка в процентах. Также отслеживаем MAE - средняя абсолютная ошибка.
Значения посчитаны как среднее на 5 фолдах кросс-валидации.
### Эксперименты
| Стадия | Название | MAE | MAPE |
|-------|-------|-------|-------|
| baseline | FastText + LR | 16283.3 | 29.53 |
| baseline | FastText + RidgeRegression | 16267.7 | 29.49 |
| baseline | FastText + LassoRegression | 16266.6 | 29.53 |
| baseline | FastText + KNNRegression | 14986.2 | 27.6 |
| baseline | FastText + DecisionTreeRegressor | 15059.2 | 28.39 |
| baseline | FastText + CatBoostRegressor | **12754.2** | **23.52** |
| exp. 1 | NLTK + FastText + CatBoostRegressor | 12615.5 | 23.24 |
| exp. 1 | Spacy + FastText + CatBoostRegressor | **12580.7** | **23.17** |
| exp. 1 | StemLemPipe + FastText + CatBoostRegressor | 12616.2 | 23.25 |
| exp. 2 |  CatBoostRegressor with text_features v.1 | 13267 | 24.56 |
| exp. 2 |  Spacy + CatBoostRegressor with text_features v.1 | 13274.3 | 24.56 |
| exp. 2 |  Spacy + CatBoostRegressor with text_features v.2 | 13823.3 | 25.45 |
| exp. 2 |  FastText + CatBoostRegressor with text_features v.1 | 13137.9 | 24.25 |
| exp. 2 |  FastText + CatBoostRegressor with text_features v.2 | 14043 | 25.73 |
| exp. 3 | multilingual_e5+CatBoostRegressor | 13564.8 | 20.4 |
| hyperparameter tuning | FastText+CatBoostRegressor | **10936** | **20.4** |

### Вклад/важность признаков по SHAP
![image](https://github.com/NKhozin/salary_prediction/assets/92330362/a9ee1d9c-c3bd-404b-b40f-21a39f7480e4)
![image](https://github.com/NKhozin/salary_prediction/assets/92330362/3e572c7c-3f3c-4ab0-b5cb-91671f5d8fb8)

### Выводы
В результате проделанных экспериментов значение целевой метрики упало на ~3% относительно бейзлайна. Однако в выборке для обучения большое число повторяющихся профессий, а имеющиеся смещены в сторону "рабочих". <br />
Также, если посмотреть на график SHAP, видно, что признак "city_id_Остальные" при низких значения (0) имеет положительный вклад в значение целевой переменной, что в теории должно быть наоборот: чем больше населенный пункт, тем больше заработная плата, но здесь это не подтверждается. Данные смещены в сторону определенных городов.
### Дальнейшие планы
- расширение выборки по профессиям и регионам
- эксперименты с применением новых NLP подходов - создание собственных эмбеддингов резюме, кластеризация эмбеддингов и прочие
### Telegram бот
https://t.me/itmo_salary_prediction_bot

### Пример предсказания
![image](https://github.com/NKhozin/salary_prediction/assets/92330362/837b6248-f2a1-4cf9-aa07-fd7dbc62db0a)
